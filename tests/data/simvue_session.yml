---
workflow: Test Simvue Workflow
metadata:
  test_name: test_workflow
tags:
  - workflow_demo
  - testing
options:
  retention_period: 3 mins
steps:
  - description: Generate Dataset
    label: create_csv 
    shell: bash
    arguments:
      - echo x,y >> ${{ session_dir }}/out.csv;
      - for i in {0..100}; do echo $i,$((i * 2)) >> ${{ session_dir }}/out.csv; done
  - description: Test CSV Parsing
    executable: echo
    arguments:
      - Dummy Simulation...
    label: csv_parse
    inputs:
      - path: "${{ session_dir }}/out.csv"
    outputs:
      - path: "${{ session_dir }}/sample_data.csv"
    parse:
      - parser: csv
        path: "${{ session_dir }}/sample_data.csv"
        tracked_values:
          - pattern: Temperature_C
        
